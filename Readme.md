# Реальный кейс от компании «СКАН»
Учебный проект по работе над полноценной B2B-платформой.
## Технологии
- [JavaScript](https://www.javascript.com/)
- [TypeScript](https://www.typescriptlang.org/)
- [React](https://react.dev/)

# Как использовать
Установить зависимости `npm install` и запустить локально с помощью команды `npm run dev`.

## Функциональные требования:
Клиентская часть сервиса состоит из:
* главной страницы
* формы авторизации
* формы для ввода параметров запроса
* страницы с выводом результатов запроса.

Макет, подготовленный дизайнерами, находится [здесь](https://www.figma.com/file/u3MOjzYnTnirz712GrLbFv/%D0%9C%D0%B0%D0%BA%D0%B5%D1%82-%D0%A1%D0%9A%D0%90%D0%9D?type=design&node-id=0-1&mode=design&t=s9899DouAmNTD6l0-0).

### Шапка сайта
В ней находятся:

* логотип
* меню
* панель управления учётной записью

Шапка сайта выглядит по-разному для авторизованного и неавторизованного пользователя.
###### Шапка сайта для неавторизованного пользователя:
* Кнопка «Войти» ведёт на страницу авторизации
###### Шапка сайта для авторизованного пользователя:
* Вместо кнопок «Зарегистрироваться» и «Войти» появился аватар пользователя с именем и кнопкой «Выйти»
* Кнопка «Выйти» сбрасывает авторизацию
* Слева от аватара должна быть панель с информацией о лимите по компаниям в аккаунте и количестве уже используемых компаний.

### Главная страница
В ней находятся:

* Кнопка «Запросить данные» ведёт на страницу ввода параметров поиска. Её должен видеть только зарегистрированный пользователь
* Карточки в разделе «Почему именно мы» должны переключаться по принципу карусели
* В разделе «Наши тарифы» перечислены возможные тарифы. Кнопка «Подробнее» — заглушка, при клике на неё ничего не происходит
Если пользователь авторизован, карточка с используемым им тарифом должна отличаться от остальных:
    * появляется бейдж «Текущий тариф»
    * кнопка «Подробнее» меняется на «Перейти в личный кабинет» (она тоже не функциональна)
    * карточка выделяется цветом, который соответствует тарифу

### Форма авторизации
Эта страница содержит форму с полями для ввода логина и пароля. При заполнении пароля вводимое значение должно маскироваться.

При отсутствии одного из значений — логина или пароля — кнопка «Войти» неактивна, и при клике на неё ничего не происходит.

После ввода всех необходимых значений кнопка становится активной. При нажатии на неё нужно отправить запрос на API.
При успешной авторизации в ответе на запрос придут:
* токен авторизации `accessToken`
* дата, до которой токен действителен `expire`

### Форма для ввода параметров запроса
Данная страница содержит основу функционала сервиса: форму, в которой пользователь задаёт параметры поиска.

Эта страница доступна только авторизованным пользователям. Если неавторизованный пользователь пытается её открыть, нужно переадресовать его на главную страницу сервиса.

На странице должна быть форма поиска со следующими полями:

* ИНН `Текстовое поле`
* Признак максимальной полноты `Чекбокс`
* Упоминания в бизнес-контексте	`Чекбокс`
* Главная роль в публикации	`Чекбокс`
* Тональность	`Выпадающий список`
* Публикации только с риск-факторами	`Чекбокс`
* Включать технические новости рынков	`Чекбокс`
* Включать анонсы и календари	`Чекбокс`
* Включать сводки новостей	`Чекбокс`
* Количество документов в выдаче	`Число от 1 до 1000`
* Диапазон дат для поиска	`Два поля с выбором даты`

Введённый диапазон (дата начала и конца поиска) необходимо также проверять на корректность:
* даты не должны быть в будущем времени
* дата начала не может быть позже даты конца

Если поисковый запрос введён корректно, по нажатии на кнопку «Поиск» выполняется POST запрос к API и открывается страница с результатами запроса.

### Вывод результатов поиска
Здесь мы выводим результаты ранее введённого запроса.

Поиск состоит из трёх этапов:
1. Сначала мы делаем запрос POST и получаем общую сводку по количеству публикаций и рискам.
2. Периодов может быть больше, чем помещается на экране. Поэтому необходимо реализовать карусель для горизонтального переключения между ними. На время, пока сводка подгружается, необходимо показать лоадер.
3. Затем, используя те же параметры поиска, отправляем запрос POST, чтобы получить список публикаций. В ответе придёт список ID найденных документов.
4. После того как мы получили ID документов, остался последний шаг. Подгрузить их содержимое: заголовок, дату, источник, текст публикации и так далее. Для этого воспользуемся запросом POST.

Однако мы уже знаем, что найденных публикаций может быть много (лимит поиска — 1000 результатов).

Поэтому необходимо реализовать ленивую загрузку (lazy loading). Сначала нужно подгрузить только 10 первых результатов и добавить кнопку «Показать больше», по нажатии на которую будет подгружаться следующие 10 результатов. И так до тех пор, пока не будут загружены последние из найденных публикаций.

После этого кнопку «Показать больше» необходимо спрятать.